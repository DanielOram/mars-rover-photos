(this["webpackJsonpmars-rover-photos"]=this["webpackJsonpmars-rover-photos"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),s=a.n(c),o=a(16),l=a.n(o),i=(a(72),a(11)),j=(a(73),a(36)),d=a.n(j),h=a(22);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function m(e,t){var a=e.title,s=e.titleId,o=b(e,["title","titleId"]);return c.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-robot",viewBox:"0 0 16 16",ref:t,"aria-labelledby":s},o),a?c.createElement("title",{id:s},a):null,n||(n=c.createElement("path",{d:"M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135Z"})),r||(r=c.createElement("path",{d:"M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2V1.866ZM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5Z"})))}var O=c.forwardRef(m),v=(a.p,Object(c.createContext)({rovers:[],selectedRover:null,setSelectedRover:function(){return null},dateOfPhotos:null,setDateOfPhotos:function(){return null}})),x=a(1);var f=function(){var e=Object(c.useContext)(v).setSelectedRover;return Object(x.jsx)(h.b,{onClick:function(t){e((function(e){return null}))},className:"nav-link active bg-dark text-light",to:"/mars-rover-photos",children:"Select Rover"})},p=function(){var e=Object(c.useContext)(v),t=e.selectedRover,a=e.setSelectedRover;return Object(x.jsx)("nav",{className:"navbar navbar-dark bg-primary sticky-top",children:Object(x.jsxs)("div",{className:"container-fluid",children:[Object(x.jsxs)(h.b,{onClick:function(){return a(null)},to:"/mars-rover-photos",className:"navbar-brand",children:[Object(x.jsx)(O,{style:{width:"2em",height:"100%"},className:"d-inline-block align-middle"}),Object(x.jsx)("span",{className:"align-middle ml-2",children:"Mars Rover Photos"})]}),Object(x.jsx)("ul",{className:"nav nav-pills",children:Object(x.jsx)("li",{className:"nav-item",children:t&&Object(x.jsx)(f,{})})})]})})},g=a(8),y=a(60),N=a(67),w=a(35),_=a(37),S=a(62),C=a(29),P=a(61),k=a.n(P),M=(a(101),a(43)),R=a(64),F=a(34),D=a(50),T=a(66),E=a(63),A=a(49),V=a.n(A),I=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(null),o=Object(i.a)(s,2),l=o[0],j=o[1],h=Object(c.useState)([]),u=Object(i.a)(h,2),b=u[0],m=u[1],O=Object(c.useState)(!0),f=Object(i.a)(O,2),p=f[0],g=f[1],C=Object(c.useState)(1),P=Object(i.a)(C,2),k=P[0],M=P[1],R=Object(c.useState)(0),F=Object(i.a)(R,2),D=(F[0],F[1]),T=Object(c.useState)(!1),E=Object(i.a)(T,2),A=(E[0],E[1]),V=Object(c.useState)(!1),I=Object(i.a)(V,2),B=I[0],L=(I[1],Object(c.useState)(null)),z=Object(i.a)(L,2),J=z[0],W=z[1],G=Object(c.useContext)(v),K=G.rovers,q=G.selectedRover,Q=G.setSelectedRover,U=G.dateOfPhotos,X=G.setDateOfPhotos;Object(c.useEffect)((function(){null===q|void 0===q&&K.length>0&&Q((function(){return K.filter((function(t){return t.name.toLowerCase()===e.match.params.rover.toLowerCase()}))[0]}))}),[K]),Object(c.useEffect)((function(){$()}),[k]);var $=function(){A(!1),d.a.get("https://api.nasa.gov/mars-photos/api/v1/rovers/".concat(e.match.params.rover.toLowerCase(),"/photos"),{params:{api_key:"NR1x5mJFvv7SzIgRlWdhK7eEDZB84LH43PM1Okgg",sol:k}}).then((function(e){r((function(){var t=function(e){var t=e.photos.map((function(e){return{id:e.id,sol:e.sol,camera:{id:e.camera.id,name:e.camera.name,full_name:e.camera.full_name,rover_id:e.camera.rover_id},img_src:e.img_src,earth_date:e.earth_date,rover:{id:e.rover.id,name:e.rover.name,landing_date:e.rover.landing_date,launch_date:e.rover.launch_date,status:e.rover.status}}})).reduce((function(e,t){return Object.assign(e,Object(y.a)({},t.camera.name,(e[t.camera.name]||[]).concat(t)))}),{});return Object.keys(t).map((function(e){return{camera:e,name:t[e][0].camera.full_name,photos:t[e]}}))}(e.data);return m((function(){return t.map((function(e){return e.camera}))})),X((function(){var e=null;return t&&t.length>0&&(e=t[0].photos[0].earth_date),e})),t})),D((function(e){return e+1})),A(!0),j(null)})).catch((function(e){j(e.message)}))};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"container",children:[!l&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"row mb-2",children:Object(x.jsx)("div",{className:"col pl-3 pr-3",children:Object(x.jsx)(Z,{min:1,max:q?q.max_sol:1,initial:k,sliderValue:k,onSliderChange:function(e){M(e.target.value)}})})}),U&&Object(x.jsxs)("div",{className:"row pr-3 pb-2",children:[Object(x.jsx)("div",{className:"pl-3 pr-3",children:Object(x.jsx)(_.a,{toggle:!0,children:Object(x.jsx)(w.a,{type:"checkbox",variant:"outline-secondary",checked:p,value:"1",onChange:function(e){g(e.currentTarget.checked),e.currentTarget.checked?m((function(){return n.map((function(e){return e.camera}))})):m([])},children:"Toggle Filter"})})}),Object(x.jsx)("div",{className:"col overflow-auto pl-0 pr-0 pb-3",children:Object(x.jsx)(N.a,{type:"checkbox",name:"camera_filter_options",defaultValue:[],value:b,onChange:function(e){m(e)},children:n.map((function(e){return Object(x.jsxs)(w.a,{value:e.camera,className:"d-flex justify-content-between align-items-start photo",variant:"outline-primary",children:[Object(x.jsxs)(S.a,{text:"dark",children:[e.photos.length," photos"]}),Object(x.jsx)("span",{className:"pl-2",children:e.camera})]},e.camera)}))})})]}),!U&&Object(x.jsxs)("div",{className:"m-3",children:[Object(x.jsx)("h5",{children:"There are no photos available for this sol..."}),Object(x.jsx)("p",{children:"This most likely means no photos were taken by this rover on this day."})]}),U&&Object(x.jsx)("div",{className:"row bg-dark",children:Object(x.jsx)("div",{className:"col d-flex overflow-auto px-0",children:n.filter((function(e){return b.includes(e.camera)})).map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Y,{photo_group:e,setSelectedPhotoObj:W})})}))})})]}),l&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{children:"There was an error making the api request..."}),Object(x.jsx)("p",{children:l})]})]}),Object(x.jsx)(H,{show:B,modalPhotoObj:J,setModalPhotoObj:W})]})},Y=function(e){var t=e.photo_group,a=e.setSelectedPhotoObj;return Object(x.jsxs)("div",{className:"d-flex",style:{height:"50vh"},children:[Object(x.jsx)("div",{style:{zIndex:1,position:"absolute",cursor:"pointer"},className:"m-2 text-white bg-primary rounded",children:Object(x.jsx)("h5",{className:"m-1 ml-2 mr-2",children:t.camera})}),t.photos.map((function(e){return Object(x.jsx)(B,{photo:e,setModalPhotoObj:a})}))]},t.camera)},B=function(e){var t=e.photo,a=e.setModalPhotoObj;return Object(x.jsx)("img",{onClick:function(e){e.preventDefault(),a(t)},className:"mr-1 photo",src:t.img_src,alt:""},t.id)},L=function(){return Object(x.jsx)(T.a,{placement:"top",delay:{show:250,hide:400},overlay:Object(x.jsx)(E.a,{children:"A sol is a solar day on Mars. The range slider value represents the number of days on mars from the time the rover landed."}),children:Object(x.jsx)("div",{children:"Sol"})})},Z=function(e){var t=e.initial,a=Object(c.useState)(t),n=Object(i.a)(a,2),r=n[0],s=n[1];return Object(x.jsx)(M.a,{children:Object(x.jsxs)(M.a.Group,{as:R.a,children:[Object(x.jsx)(F.a,{xs:"6",md:"8",lg:"10",className:"pr-0 pl-0",children:Object(x.jsx)(k.a,{min:e.min,max:e.max,value:r,tooltipPlacement:"top",onChange:function(e){return s(e.target.value)},onAfterChange:e.onSliderChange})}),Object(x.jsx)(F.a,{xs:"6",md:"4",lg:"2",className:"pr-0",children:Object(x.jsxs)(D.a,{children:[Object(x.jsx)(D.a.Text,{children:Object(x.jsx)(L,{})}),Object(x.jsx)(M.a.Control,{value:e.sliderValue,onChange:function(t){e.onSliderChange(t),s(t.target.value)}})]})})]})})},z=function(){var e=Object(c.useContext)(v).dateOfPhotos;return Object(c.useEffect)((function(){}),[e]),Object(x.jsx)(V.a,{format:"D MMM YYYY",children:e})},H=function(e){e.show;var t=e.modalPhotoObj,a=e.setModalPhotoObj;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(C.a,{show:!!t,onHide:function(){a(null)},size:"lg",centered:!0,children:[Object(x.jsx)(C.a.Header,{closeButton:!0,children:Object(x.jsx)(C.a.Title,{children:t&&"".concat(t.rover.name," Photo (ID: ").concat(t.id,")")})}),Object(x.jsx)(C.a.Body,{style:{display:"flex",justifyContent:"center"},children:t&&Object(x.jsx)("img",{style:{overflow:"hidden"},src:t.img_src,alt:""})}),Object(x.jsx)(C.a.Footer,{style:{display:"inline"},children:t&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"font-weight-bold",children:"Date Taken:"})," ",Object(x.jsx)(V.a,{format:"D MMM YYYY",children:t.earth_date})]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"font-weight-bold",children:"Camera:"})," ","".concat(t.camera.full_name," (").concat(t.camera.name,")")]})]})})]})})},J=a(65);function W(){var e=Object(c.useContext)(v),t=e.rovers,a=e.selectedRover,n=e.setSelectedRover,r=e.dateOfPhotos;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"container py-5",children:[Object(x.jsxs)("div",{className:"col d-flex align-items-start border-bottom px-0",children:[Object(x.jsxs)("h2",{className:"",children:[a?a.name+" Photos":"Select Rover","default"==t[0].name&&Object(x.jsx)(J.a,{className:"ml-2",animation:"grow",variant:"primary",size:"lg"})]}),Object(x.jsx)("h2",{className:"ml-auto text-nowrap",children:a&&r&&Object(x.jsx)(z,{})})]}),!a&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"row g-4 py-5 row-cols-1 row-cols-lg-4",children:"default"!=t[0].name&&t.map((function(e){return Object(x.jsx)(G,{roverName:e.name,children:Object(x.jsx)(K,{rover:e,onClick:function(a){return function(e,a){e.preventDefault(),n(t.filter((function(e){return e.id===a}))[0])}(a,e.id)}})},e.name)}))})})]}),Object(x.jsx)(g.c,{children:Object(x.jsx)(g.a,{path:"/mars-rover-photos/:rover",component:I})})]})}var G=function(e){var t=Object(g.f)();return Object(x.jsx)("div",{onClick:function(a){a.preventDefault(),t.push("/mars-rover-photos/".concat(e.roverName))},children:e.children})},K=function(e){var t=e.rover,a=e.onClick;return Object(x.jsxs)("div",{className:"col btn featured-rover",onClick:a,children:[Object(x.jsx)("div",{className:"feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3",children:Object(x.jsx)(O,{style:{width:"5vw",height:"5vw"}})}),Object(x.jsx)("h3",{className:"fs-2",children:t.name}),Object(x.jsxs)("p",{className:"card-text",children:["Mission Status: ",Object(x.jsx)("span",{className:"card-text ".concat("active"===t.status?"text-success":"text-secondary"),children:t.status})," "]}),Object(x.jsxs)("p",{className:"text-muted",children:["Available Photos: ",t.total_photos]}),Object(x.jsx)(h.b,{to:"/mars-rover-photos/".concat(t.name),className:"btn btn-primary",children:"View All Photos"})]})},q=function(){return Object(x.jsx)("footer",{className:"footer navbar navbar-light bg-light",children:Object(x.jsxs)("div",{className:"container-fluid",children:[Object(x.jsxs)("div",{children:["Website design and development by Daniel Oram using data publicly available through the ",Object(x.jsx)("a",{href:"https://api.nasa.gov/",children:"Nasa API Portal."})]}),Object(x.jsx)("div",{className:"text-right",children:Object(x.jsx)("a",{href:"https://github.com/DanielOram",children:"Github"})})]})})};var Q=function(){var e=Object(c.useState)([{name:"default"}]),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),s=Object(i.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(null),h=Object(i.a)(j,2),u=h[0],b=h[1],m=Object(c.useState)(),O=Object(i.a)(m,2),f=O[0],g=O[1];return Object(c.useEffect)((function(){d.a.get("https://api.nasa.gov/mars-photos/api/v1/rovers",{params:{api_key:"NR1x5mJFvv7SzIgRlWdhK7eEDZB84LH43PM1Okgg"}}).then((function(e){n(e.data.rovers.map((function(e){return{id:e.id,name:e.name,landing_date:e.landing_date,launch_date:e.launch_date,status:e.status,max_sol:e.max_sol,max_date:e.max_date,total_photos:e.total_photos,cameras:e.cameras.map((function(e){return{id:e.id,name:e.name,rover_id:e.rover_id,full_name:e.full_name}}))}})))})).catch((function(e){console.log(e.response.data.error),g(e)}))}),[]),Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(v.Provider,{value:{rovers:a,selectedRover:o,setSelectedRover:l,dateOfPhotos:u,setDateOfPhotos:b},children:[Object(x.jsx)(p,{}),f&&Object(x.jsxs)("h4",{children:["There was an api error: ",f]}),Object(x.jsx)(W,{}),Object(x.jsx)(q,{})]})})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,111)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};l.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(h.a,{children:Object(x.jsx)(Q,{})})}),document.getElementById("root")),U()},72:function(e,t,a){},73:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.c279cada.chunk.js.map